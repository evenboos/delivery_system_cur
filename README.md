# 智能快递配送系统

## 项目简介

本项目实现了一个智能快递配送系统，包含基础版和高级版两个版本，使用分治法和多种路径优化算法来解决快递配送中的路径规划问题。系统采用现代化的PyQt6界面，结合QFluentWidgets美化组件，提供直观的可视化分析功能。

## 核心功能

### 算法实现
- **分治法递归分区**：将客户按地理位置智能分组（每组5个客户）
- **贪心算法优化**：使用最近邻策略优化配送路线
- **多种高级算法**：支持2-Opt、动态规划、遗传算法、蚁群算法、模拟退火等
- **从原点出发返回**：所有配送路线均从配送中心(0,0)出发并返回

### 实际约束考虑
- **货车容量限制**：每辆车载重限制，自动分配合理负载
- **货物重量管理**：每个客户的货物重量随机分配(1-15kg)
- **客户优先级**：支持普通、紧急、快递三种优先级
- **时间窗口约束**：考虑客户配送时间偏好

## 系统版本

### 📦 基础版 (`delivery_system_fluent.py`)

**核心特性：**
- 分治法客户分区（每组5人）
- 贪心算法路径优化
- QFluentWidgets现代化界面
- 基础可视化展示
- 总运输距离计算

**适用场景：**
- 快速原型验证
- 算法原理学习
- 小规模配送问题

**界面功能：**
- 客户数量设置(20-100)
- 一键生成配送方案
- 路线图可视化展示
- 详细结果信息显示

### 🚀 高级版 (`advanced_delivery_system.py`)

**核心特性：**
- **3种分区算法**：分治法、K-means聚类、容量限制分区
- **6种路径算法**：Greedy、2-Opt、DP、GA、ACO、SA
- **算法性能对比**：10种算法组合自动测试
- **多维度分析**：路线图、容量分布、距离分析、性能统计

**高级功能：**
- 车辆容量限制设置(30-100kg)
- 算法组合灵活选择
- 双标签页界面设计
- 详细性能统计报告

**可视化增强：**
- 四象限分析图表
- 容量分布柱状图
- 距离分析对比图
- 算法性能时间图

## 技术架构

### 核心类设计

```
Customer类
├── 坐标位置 (x, y)
├── 货物重量 (1-15kg)
├── 优先级 (normal/urgent/express)
└── 距离计算方法

DeliveryZone类
├── 客户列表管理
├── 路线优化算法
├── 距离统计计算
└── 性能指标记录

算法类
├── PartitionAlgorithm (分区算法)
├── RouteOptimizer (路径优化)
└── 多种算法实现
```

### 界面组件

- **QFluentWidgets**：现代化UI组件库
- **Matplotlib**：图表可视化引擎
- **PyQt6**：跨平台GUI框架
- **多线程计算**：避免界面冻结

## 安装和运行

### 环境要求
- Python 3.8+
- Windows/Linux/macOS

### 安装依赖
```bash
pip install -r requirements.txt
```

### 运行系统

**基础版：**
```bash
python delivery_system_fluent.py
```

**高级版：**
```bash
python advanced_delivery_system.py
```

## 算法详解

### 分区算法对比

| 算法名称 | 特点 | 适用场景 | 复杂度 |
|---------|------|----------|--------|
| 分治法 | 保证负载均衡 | 大规模问题 | O(n log n) |
| K-means聚类 | 基于距离优化 | 地理分布不均 | O(nkt) |
| 容量限制 | 考虑实际约束 | 实际应用 | O(n) |

### 路径算法对比

| 算法名称 | 优点 | 缺点 | 时间复杂度 |
|---------|------|------|-----------|
| Greedy | 快速求解 | 局部最优 | O(n²) |
| 2-Opt | 局部改进 | 依赖初解 | O(n²) |
| DP | 全局最优 | 规模限制 | O(n²2ⁿ) |
| GA | 适应性强 | 参数敏感 | O(gn²) |
| ACO | 收敛稳定 | 计算量大 | O(tn²) |
| SA | 跳出局部 | 参数调优 | O(tn²) |

## 性能指标

### 基础版性能
- 客户数量：20-100
- 计算时间：< 1秒
- 内存占用：< 100MB
- 界面响应：流畅

### 高级版性能
- 客户数量：20-200
- 算法对比：10种组合
- 计算时间：1-30秒
- 可视化：四象限分析

## 使用指南

### 基础版操作流程
1. 启动程序：运行 `delivery_system_fluent.py`
2. 设置参数：调整客户数量
3. 生成方案：点击"生成配送方案"
4. 查看结果：观察路线图和统计信息
5. 分析对比：点击"算法对比分析"

### 高级版操作流程
1. 启动程序：运行 `advanced_delivery_system.py`
2. **主要分析页**：
   - 设置客户数量和车辆容量
   - 选择分区算法和路径算法
   - 生成优化方案
3. **算法对比页**：
   - 运行10种算法组合对比
   - 查看性能统计表格
   - 分析最优算法组合

## 项目特色

### 教学价值
- **算法原理**：分治法、贪心算法等经典算法实现
- **数据结构**：图论、路径规划等数据结构应用
- **界面设计**：现代化GUI开发实践
- **工程实践**：多线程、模块化设计等工程技能

### 实用价值
- **物流配送**：实际配送路径规划问题
- **资源优化**：车辆调度和容量分配
- **成本控制**：运输距离和时间优化
- **决策支持**：多种算法对比分析

## 扩展方向

- 实时交通信息集成
- 多配送中心支持
- 时间窗口约束优化
- 动态订单处理
- 机器学习预测
- 移动端适配

## 技术支持

如遇到问题，请检查：
1. Python版本兼容性
2. 依赖包安装完整性
3. 系统编码设置(UTF-8)
4. 图形界面支持

---

**开发信息**
- 项目版本：v2.0
- 开发语言：Python
- 界面框架：PyQt6 + QFluentWidgets
- 可视化：Matplotlib
- 编码格式：UTF-8
